---
title: "Analyzing NeMO Slide-seq datasets on Terra bio"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Analyzing NeMO Slide-seq datasets on Terra bio}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

# Identify the NeMO dataset

Log in to your [Terra bio](https://app.terra.bio/) account and go to the left menu, select Library > Datasets

```{r, echo=FALSE, out.width='30%', fig.align='center'}
knitr::include_graphics("images/nemo_slideseq/01_menu.png")
```

On the datasets page, scroll down until you find the NeMO database

```{r, echo=FALSE, out.width='80%', fig.align='center'}
knitr::include_graphics("images/nemo_slideseq/02_datasets.png")
```

```{r, echo=FALSE, out.width='80%', fig.align='center'}
knitr::include_graphics("images/nemo_slideseq/03_datasets.png")
```

# Load the dataset to a terra workspace

By clicking on the Browse data button, you will be re-directed to the NeMO website. Use the filters menu to select the Slide-seq technology, then chose a sample to download and ddd the file to the cart.


```{r, echo=FALSE, out.width='80%', fig.align='center'}
knitr::include_graphics("images/nemo_slideseq/04_nemo.png")
```


```{r, echo=FALSE, out.width='80%', fig.align='center'}
knitr::include_graphics("images/nemo_slideseq/05_samples.png")
```

When selecting the sample, you will see multiple files available to download, including the fasta files. Uncheck the fasta files boxes and keep only the expression.mex.tar.gz file. 

Click the Download button and select the option "Export to terra".

```{r, echo=FALSE, out.width='80%', fig.align='center'}
knitr::include_graphics("images/nemo_slideseq/06_files.png")
```

You will be directed back to your terra bio account. Select the Workspace to add your dataset.

You will find the new file under the Data tab > file section.

```{r, echo=FALSE, out.width='90%', fig.align='center'}
knitr::include_graphics("images/nemo_slideseq/07_data.png")
```

# Open the dataset

Scroll to the right and locate the url of the file, it should look like
https://data.nemoarchive.org/biccn/grant/rf1_macosko/macosko/spatial_transcriptome/cellgroup/Slide-seq/mouse/processed/counts/2022-02-11_Puck_211013_01.matched.digital_expression.mex.tar.gz.

Open an cloud environment, either using Jupyter notebooks or RStudio. Open the terminal and load the file to your session by running the command `wget <file url>`.
Uncompress the file, you will get a folder with three files:

```{r, echo=FALSE, out.width='50%', fig.align='center'}
knitr::include_graphics("images/nemo_slideseq/08_files.png")
```


Use these files to create a Giotto object and start running the analysis. 

# Run the analysis

You can use the following Giotto pipeline as an example. The sample pRF1sMBiF024d211023tSLIDESEQnPuck_211013_01 was used for running this tutorial.




